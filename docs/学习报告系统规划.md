# 盯盯作业 - 学习报告系统规划

## 一、数据沉淀体系

### 1.1 实时监测数据
| 数据类型 | 采集方式 | 存储频率 | 用途 |
|---------|---------|---------|-----|
| 专注度分数 | 面部识别+行为分析 | 每10秒 | 专注力曲线、平均分 |
| 分心事件 | AI视觉检测 | 事件触发 | 分心次数、类型分析 |
| 乱动检测 | 姿态估计 | 事件触发 | 坐姿评估、活跃度 |
| 手机使用 | 物体检测 | 事件触发 | 干扰因素统计 |
| 离开座位 | 人脸消失检测 | 事件触发 | 休息/逃避分析 |
| 过程截图 | 定时+事件触发 | 每5分钟+关键时刻 | 报告展示、行为回溯 |

### 1.2 任务完成数据
| 数据类型 | 来源 | 分析维度 |
|---------|-----|---------|
| 任务完成率 | 任务系统 | 按科目、按类型 |
| 任务时长 | 计时器 | 预估vs实际、效率分析 |
| 听写准确率 | 语音识别对比 | 正确率、易错词 |
| 背诵流畅度 | 语音分析 | 卡顿次数、完成时间 |
| 番茄钟完成 | 专注模式 | 连续专注能力 |

### 1.3 行为模式数据
| 数据类型 | 统计维度 | 洞察价值 |
|---------|---------|---------|
| 最佳学习时段 | 按小时专注度 | 个性化学习时间建议 |
| 学科偏好 | 各科目参与度 | 兴趣分析、弱项发现 |
| 专注力变化 | 周/月趋势 | 进步追踪、习惯养成 |
| 中断恢复时间 | 分心后重新专注 | 自我调节能力评估 |

---

## 二、报告产品设计

### 2.1 基础版报告（免费）

#### 📊 每日学习卡片
```
┌─────────────────────────────────┐
│  📅 2026年1月13日 学习日报      │
├─────────────────────────────────┤
│  ⏱️ 总学习时长：45分钟          │
│  ✅ 完成任务：3/4               │
│  🎯 平均专注度：78%             │
│  ⭐ 获得积分：+120              │
├─────────────────────────────────┤
│  📸 精彩瞬间                    │
│  [认真专注截图] [完成任务截图]   │
├─────────────────────────────────┤
│  💬 小影老师点评：              │
│  "今天数学作业完成得很认真，    │
│   继续保持！明天记得复习英语~"  │
└─────────────────────────────────┘
```

#### 📈 每周趋势图
- 7日专注度折线图
- 任务完成柱状图
- 学习时长统计
- 连续学习天数

---

### 2.2 深度版报告（付费/会员）

#### 📑 专注力深度分析报告

**1. 专注力曲线分析**
```
专注度变化图（按分钟）
100%|    ╭──╮     ╭────╮
 80%|───╯  ╰─╮  ╭╯    ╰──
 60%|        ╰──╯
 40%|
    └──────────────────────
     0   15   30   45  60分钟
     
📍 高峰时段：开始后10-25分钟
📍 低谷时段：30-35分钟（建议设置休息）
📍 恢复速度：分心后平均12秒恢复
```

**2. 分心原因分析**
| 分心类型 | 次数 | 占比 | 建议 |
|---------|-----|-----|-----|
| 🔍 东张西望 | 5次 | 42% | 调整学习环境 |
| 📱 手机干扰 | 3次 | 25% | 手机放远处 |
| 🏃 离开座位 | 2次 | 17% | 提前上厕所 |
| 😴 疲劳走神 | 2次 | 16% | 缩短单次时长 |

**3. 行为截图时间线**
```
14:00 ✅ 开始学习 [截图]
14:15 ⚠️ 检测到分心 [截图+标注]
14:18 ✅ 恢复专注
14:30 ⏸️ 休息5分钟
14:35 ✅ 继续学习
14:50 🎉 完成任务 [截图]
```

---

#### 📚 学科表现分析

**各科目专注度对比**
```
语文 ████████████░░ 85%
数学 ██████████░░░░ 72%
英语 ███████░░░░░░░ 55%
        
💡 洞察：英语学习时专注度较低
   建议：尝试更互动的学习方式
```

**听写/背诵表现**
| 任务 | 准确率 | 用时 | 进步 |
|-----|-------|-----|-----|
| 语文生字听写 | 92% | 8分钟 | ↑5% |
| 英语单词背诵 | 78% | 12分钟 | ↑3% |
| 古诗默写 | 100% | 5分钟 | 🌟满分 |

---

#### 🌱 习惯养成追踪

**21天习惯养成计划**
```
专注力提升计划 [第12天/21天]
████████████░░░░░░░░░ 57%

✅ 连续专注15分钟 - 已达成7天
🔄 减少分心次数 - 进行中
⏳ 主动完成作业 - 待开始
```

**习惯养成曲线**
```
分心次数趋势（近30天）
12次|●
 9次|  ●
 6次|    ●  ●
 3次|      ●  ●  ●  ●
    └────────────────
     W1  W2  W3  W4
     
📈 进步：分心次数减少67%！
```

---

#### 📋 个性化学习建议

**基于AI分析的建议**

1. **最佳学习时间**
   - 推荐时段：下午4:00-5:30
   - 原因：该时段平均专注度最高(82%)

2. **任务安排建议**
   - 先做语文（优势科目提升信心）
   - 数学安排在中间（需要较高专注）
   - 英语穿插游戏化学习

3. **休息节奏优化**
   - 建议：每25分钟休息5分钟
   - 当前问题：30分钟后专注度明显下降

4. **环境改善建议**
   - 手机干扰较多，建议放置指定区域
   - 检测到频繁看窗外，调整座位朝向

---

## 三、报告生成策略

### 3.1 触发时机
| 报告类型 | 生成时机 | 推送方式 |
|---------|---------|---------|
| 每日简报 | 当日学习结束 | 微信/App推送 |
| 周报 | 每周日晚8点 | 微信服务号 |
| 月度报告 | 每月1日 | 邮件+App |
| 学期总结 | 期中/期末 | 精美PDF |

### 3.2 家长互动设计

**快速反馈入口**
- 👍 今天表现不错
- 💪 需要再努力
- 💬 给孩子留言

**家长关注设置**
- 专注度低于___%时提醒
- 连续分心___次时提醒
- 任务完成时通知

---

## 四、数据存储架构

### 4.1 本地存储（隐私优先）
```javascript
// IndexedDB 结构
{
  sessions: {
    id, date, duration, avgFocus,
    tasks: [...],
    events: [...],  // 分心、离开等
    snapshots: [...] // base64截图
  },
  dailyReports: {...},
  weeklyStats: {...},
  habits: {...}
}
```

### 4.2 云端同步（可选）
- 仅同步统计数据，不上传截图
- 家长端查看需授权
- 支持多设备同步

---

## 五、商业模式

### 5.1 免费版
- 每日学习卡片
- 基础专注度统计
- 过程截图（保留3天）

### 5.2 会员版（¥19.9/月）
- 深度专注力分析
- 完整行为时间线
- 学科表现对比
- 习惯养成追踪
- 个性化AI建议
- 历史数据永久保存
- 精美报告导出PDF

### 5.3 家庭版（¥39.9/月）
- 会员版全部功能
- 支持3个孩子档案
- 家长专属APP
- 实时学习状态查看
- 紧急情况提醒

---

## 六、技术实现优先级

### Phase 1（2周）
- [ ] 专注度数据采集与存储
- [ ] 每日学习卡片生成
- [ ] 基础过程截图功能

### Phase 2（2周）
- [ ] 分心事件分类记录
- [ ] 周报自动生成
- [ ] 专注度曲线图表

### Phase 3（3周）
- [ ] 深度分析算法
- [ ] 习惯养成系统
- [ ] AI个性化建议

### Phase 4（2周）
- [ ] 家长端开发
- [ ] 微信推送集成
- [ ] PDF报告导出

---

## 七、参考研究

1. **学习分析(Learning Analytics)**
   - 多维度数据收集
   - 行为模式识别
   - 个性化干预

2. **专注力研究**
   - 平均专注周期：25-30分钟
   - 分心恢复时间：23分钟（成人）
   - 儿童专注力：年龄×3-5分钟

3. **习惯养成理论**
   - 21天习惯形成
   - 66天习惯固化
   - 触发-行为-奖励循环

4. **教育心理学**
   - 即时反馈的重要性
   - 正向激励 vs 负向惩罚
   - 可视化进步的动机作用
